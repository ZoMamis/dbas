<!DOCTYPE html>
<html lang="${request.locale_name}" metal:use-macro="load: basetemplate.pt" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" xmlns:tal="http://xml.zope.org/namespaces/tal">

<head>
	<link type="text/css" href="${request.static_url('dbas:static/css/theme_basetemplate.css')}" rel="stylesheet">
	<link type="text/css" href="${request.static_url('dbas:static/css/theme_settings.css')}" rel="stylesheet">
</head>

<body>


	<div class="form settings">
		<div class="row">

				<h1><span class="font-semi-bold">Settings of: </span><span tal:replace="logged_in"/></h1>

		</div>
	</div>



	<div class="settings form">
		<h2>Change your password</h2>
		<form action="/settings" method="post">

			<h3>Old password</h3>
			<input id="password-old-input" type="password" name="passwordold" class="passwordold" autocomplete="off" placeholder="example: ******" value="${passwordold}">


			<h3>New Password</h3>
			<input id="password-input" type="password" name="password" class="password" autocomplete="off" placeholder="example: ******" value="${password}">
			<div id="password-extras">
				<div id="password-meter" class="veryweak"></div>
				<h4 id="password-strength">Strength</h4>
				<a id="password-info-link" href="" data-toggle="modal" data-target="#popup_password_info" title="Show Password Information">
					<i id="password-info-icon" aria-hidden="true" class="glyphicon glyphicon-question-sign">&#160;</i>
				</a>
			</div>

			<h3>New Password (confirm)</h3>
			<input id="passwordconfirm-input" type="password" name="passwordconfirm" class="password" autocomplete="off" placeholder="example: ******" value="${passwordconfirm}">


			<div tal:condition="change_error" id="danger-message" class="alert alert-danger alert-dismissible">
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<strong>Error!</strong>
				<div id="danger-message-text"><span tal:replace="message" />
				</div>
			</div>


			<div tal:condition="change_success" class="alert alert-success" role="alert">
				<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				<span class="sr-only">Great:</span> Your password was changed.
			</div>

			<input id="password-submit" type="submit" name="form.passwordchange.submitted" value="Change password" class="button button-block btn-lg btn btn-primary" data-dismiss="modal" />
		</form>
	</div>

	<!-- PASSWORD INFORMATION -->
	<div class="modal fade" id="popup_password_info" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">How to select a strong password</h4>
				</div>
				<div class="modal-body">
					A Password is strong, when it contains at least :
					<ul>
						<li>eight characters</li>
						<li>one uppercase letter</li>
						<li>one lowercase letter</li>
						<li>one special sign</li>
					</ul>
					For example 'M2015_fiO' is a strong password. And it would take 275 days to crack this password with a desktop pc in 2015. Removing one sign, reduces the time to 3 days, and adding a sign increases the time to 57 yearsIt should be noted:
					<ul>
						<li>Avoid using a password on several pages</li>
						<li>Avoid using patterns, which can be found in a dictionary</li>
						<li>Avoid using information that is or might become publicly associated with the user or the account</li>
						<li>Avoid using information that the user's colleagues and/or acquaintances might know to be associated with the user</li>
					</ul>
					<br> If you need some help with our password, you can get one here:
					<br>
					<br>
					<input type="text" id="password-generator-output">
					<input type="button" id="password-generator-button" value="Generate Password" class="button button-block btn btn-primary">
					<br>
					<br>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="${request.static_url('dbas:static/js/settings.js')}"></script>


</body>
<html>