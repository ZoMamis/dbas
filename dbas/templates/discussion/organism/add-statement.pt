<!-- little container to add a single statement/premise -->
<tal:block i18n:domain="dbas" metal:define-macro="layout">

  <div class="container colored-container" id="add-statement-container"
       style="${extras.add_statement_container_style}"
       tal:condition="not(issues.decidotron_budget and issues.decidotron_budget.position_ended)">
    <button tal:condition="extras.close_statement_container" id="close-statement-container" type="button"
                                                             class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <br>
    <div class="col-lg-12 text-center">
      <!--<p class="lead">${structure:discussion.add_premise_text}</p>-->
      <div id="add-statement-error-container" class="alert alert-danger" role="alert" style="display:none">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
        <span id="add-statement-error-msg"></span>
      </div>
      <div id="add-statement-container-body">
        <form>
          <div class="form-group">
            <label for="add-statement-container-main-input-position"
                   class="col-lg-3 col-md-5 col-sm-6 control-label"
                   style="color: #666; font-size: 17px; margin-top: 0.4em;">${structure:discussion.add_premise_text}</label>
            <div class="col-lg-9 col-md-7 col-sm-6">
              <input id="add-statement-container-main-input-position"
                     placeholder="${extras.tag.placeholder_position}"
                     data-key="position"
                     class="form-control" data-min-length="10" data-max-length="180" style="width: 100%">
            </div>
          </div>
          <br>
          <div class="form-group">
            <label for="add-statement-container-main-input-reason" class="col-lg-3 col-md-5 col-sm-6 control-label"
                   style="color: #666; font-size: 17px; margin-top: 0.4em;">${extras.title.because}</label>
            <div class="col-lg-9 col-md-7 col-sm-6">
              <input id="add-statement-container-main-input-reason" data-key="reason"
                     placeholder="${extras.tag.placeholder_reason}"
                     class="form-control" data-min-length="10" data-max-length="180" style="width: 100%">
            </div>
          </div>
          <br>
          <div class="form-group" tal:condition="issues.decidotron_budget">
            <label for="add-statement-container-cost" class="col-lg-3 col-md-5 col-sm-6 control-label"
                   style="color: #666; font-size: 17px; margin-top: 0.4em;" i18n:translate="decidotron_cost_of_position">
              It has an estimated cost of </label>
            <div class="input-group col-lg-9 col-md-7 col-sm-6">
              <span class="input-group-addon">${issues.decidotron_budget.currency_symbol}</span>
              <input id="add-statement-container-cost" data-key="decidotron_cost" placeholder="2000" type="number"
                     min="${issues.decidotron_budget.min_position_cost}"
                     step=50 max="${issues.decidotron_budget.max_position_cost}"
                     class="form-control" style="width: 100%" required
                     oninput="cost_field = $(this);
                      parent_form_group = cost_field.closest('div.form-group');
                         costs = parseFloat(cost_field.val());
                         min_number = parseFloat(cost_field.attr('min'));
                         max_number = parseFloat(cost_field.attr('max'));
                         if (costs < min_number || costs > max_number){
                         parent_form_group.addClass('has-error');
                         }
                         else{
                         parent_form_group.removeClass('has-error');
                         }">
            </div>
            <span
                class="help-block">Bitte gib die geschätzte Kosten zwischen ${int(issues.decidotron_budget.min_position_cost)} ${issues.decidotron_budget.currency_symbol}
              und ${int(issues.decidotron_budget.max_position_cost)}
                ${issues.decidotron_budget.currency_symbol} an.</span>
          </div>
        </form>
      </div>
      <div class="list-group" id="proposal-statement-list-group"></div>
      <input id="send-new-statement" type="button" class="btn btn-primary" data-dismiss="modal"
             data-toggle="tooltip" data-placement="bottom" value="${extras.buttons.save_my_statement}"
             name="${discussion.mode}"/>
    </div>
  </div>

  <div class="container colored-container"
       tal:condition="issues.decidotron_budget and issues.decidotron_budget.position_ended">
    <div class="col-lg-12 text-center">
      <p i18n:translate="decidotron_positions_ended">Die Zeit zum hinzufügen von neuen Vorschlägen ist abgelaufen. Du
        kannst allerdings noch abstimmen!</p>
    </div>
  </div>

</tal:block>