function AjaxSiteHandler(){this.sendNewPremiseForArgument=function(b,c,f){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_set_new_premises_for_argument",method:"POST",data:{arg_uid:b,attack_type:c,premisegroups:JSON.stringify(f)},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function e(g){new InteractionHandler().callbackIfDoneForSendNewPremisesArgument(g)}).fail(function d(){new GuiHandler().showDiscussionError(_t(requestFailed)+" ("+new Helper().startWithLowerCase(_t(errorCode))+" 6). "+_t(doNotHesitateToContact)+". "+_t(restartOnError)+".")})};this.sendNewStartPremise=function(f,b,e){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_set_new_start_premise",method:"POST",data:{premisegroups:JSON.stringify(f),conclusion_id:b,supportive:e},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function d(g){new InteractionHandler().callbackIfDoneForSendNewStartPremise(g,e)}).fail(function c(){new GuiHandler().showDiscussionError(_t(requestFailed)+" ("+new Helper().startWithLowerCase(_t(errorCode))+" 7). "+_t(doNotHesitateToContact)+". "+_t(restartOnError)+".")})};this.sendNewStartStatement=function(d){var a=$("#"+hiddenCSRFTokenId).val();$.ajax({url:"ajax_set_new_start_statement",method:"POST",data:{statement:d},dataType:"json",async:true,headers:{"X-CSRF-Token":a}}).done(function c(e){new InteractionHandler().callbackIfDoneForSendNewStartStatement(e)}).fail(function b(){new GuiHandler().showDiscussionError(_t(requestFailed)+" ("+new Helper().startWithLowerCase(_t(errorCode))+" 8). "+_t(doNotHesitateToContact)+". "+_t(restartOnError)+".")})};this.getLogfileForStatement=function(f){var a=$("#"+hiddenCSRFTokenId).val(),b,c;$.ajax({url:"ajax_get_logfile_for_statement",method:"GET",data:{uid:f},dataType:"json",async:true,headers:{"X-CSRF-Token":a},beforeSend:function(h,g){b=g.data;c=this.url}}).done(function e(g){new InteractionHandler().callbackIfDoneForGettingLogfile(g)}).fail(function d(){$("#"+popupEditStatementErrorDescriptionId).html(_t(requestFailed)+" ("+new Helper().startWithLowerCase(_t(errorCode))+" 15). "+_t(doNotHesitateToContact)+". "+_t(restartOnError)+".")})};this.sendCorrectureOfStatement=function(e,h,d){var a=$("#"+hiddenCSRFTokenId).val(),b,c;$.ajax({url:"ajax_set_correcture_of_statement",method:"POST",data:{uid:e,text:h},dataType:"json",async:true,headers:{"X-CSRF-Token":a},beforeSend:function(j,i){b=i.data;c=this.url}}).done(function g(i){new InteractionHandler().callbackIfDoneForSendCorrectureOfStatement(i,d)}).fail(function f(){$("#"+popupEditStatementErrorDescriptionId).html(_t(requestFailed)+" ("+new Helper().startWithLowerCase(_t(errorCode))+" 13). "+_t(doNotHesitateToContact)+". "+_t(restartOnError)+".")})};this.getShortenUrl=function(e){var d=encodeURI(e),b,c;$.ajax({url:"ajax_get_shortened_url",method:"GET",dataType:"json",data:{url:d,issue:new Helper().getCurrentIssueId()},async:true,beforeSend:function(h,g){b=g.data;c=this.url}}).done(function a(g){new InteractionHandler().callbackIfDoneForShortenUrl(g)}).fail(function f(){$("#"+popupUrlSharingInputId).val(e)})};this.fuzzySearch=function(g,i,e,b){var c,a,h=$("#"+i);if(h.val().length==0){$("#"+proposalStatementListGroupId).empty();$("#"+proposalPremiseListGroupId).empty();$("#"+proposalEditListGroupId).empty();return}$.ajax({url:"ajax_fuzzy_search",method:"GET",dataType:"json",data:{value:g,type:e,extra:b,issue:new Helper().getCurrentIssueId()},async:true,global:false,beforeSend:function(k,j){c=j.data;a=this.url}}).done(function f(j){new InteractionHandler().callbackIfDoneFuzzySearch(j,i,e)}).fail(function d(){new Helper().delay(function j(){new GuiHandler().showDiscussionError(_t(requestFailed)+" ("+new Helper().startWithLowerCase(_t(errorCode))+" 11). "+_t(doNotHesitateToContact)+". "+_t(restartOnError)+".")},350)});h.focus()}};