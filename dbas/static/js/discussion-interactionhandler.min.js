function InteractionHandler(){this.callbackIfDoneForSendNewStartStatement=function(a){var b=$.parseJSON(a);if(b.error.length>0){$("#"+addStatementErrorContainer).show();$("#"+addStatementErrorMsg).text(b.error)}else{$("#"+discussionSpaceId+"input:last-child").attr("checked",false).prop("checked",false);window.location.href=b.url}};this.callbackIfDoneForSendNewPremisesArgument=function(a){var b=$.parseJSON(a);if(b.error.length>0){$("#"+addPremiseErrorContainer).show();$("#"+addPremiseErrorMsg).text(b.error)}else{window.location.href=b.url}};this.callbackIfDoneForSendNewStartPremise=function(b,a){var c=$.parseJSON(b);if(c.error.length>0){$("#"+addPremiseErrorContainer).show();$("#"+addPremiseErrorMsg).text(c.error)}else{window.location.href=c.url}};this.callbackIfDoneForGettingLogfile=function(a){var b=$.parseJSON(a);if(b.error.length==0){$("#"+popupEditStatementLogfileSpaceId).text("");new GuiHandler().showStatementCorrectionsInPopup(b)}else{$("#"+popupEditStatementLogfileSpaceId).text(b.error)}};this.callbackIfDoneForSendCorrectureOfStatement=function(b,a){var c=$.parseJSON(b);if(c.error.length!=0){$("#"+popupEditStatementErrorDescriptionId).text(c.error)}else{new GuiHandler().updateOfStatementInDiscussion(c,a);$("#"+popupEditStatementErrorDescriptionId).text("");$("#"+popupEditStatementSuccessDescriptionId).text(_t(correctionsSet))}};this.callbackIfDoneForShortenUrl=function(c,b){var d=$.parseJSON(c),a;if(d.error.length==0){a='<a href="'+d.service_url+'" title="'+d.service+'" target="_blank">'+d.service+"</a>";$("#"+popupUrlSharingDescriptionPId).html(_t(feelFreeToShareUrl)+", "+_t(shortenedBy)+" "+a+":");$("#"+popupUrlSharingInputId).val(d.url)}else{$("#"+popupUrlSharingDescriptionPId).text(_t(feelFreeToShareUrl)+":");$("#"+popupUrlSharingInputId).val(b)}};this.callbackIfDoneFuzzySearch=function(c,b,a){var d=$.parseJSON(c);if(Object.keys(d).length==0){$("#"+proposalStatementListGroupId).empty();$("#"+proposalPremiseListGroupId).empty();$("#"+proposalEditListGroupId).empty()}else{new GuiHandler().setStatementsAsProposal(d,b,a)}};this.sendStatement=function(h,a,f,j,b,d){if(h.length==0){if(d==fuzzy_start_statement){$("#"+addStatementErrorContainer).show();$("#"+addStatementErrorMsg).text(_t(inputEmpty))}else{$("#"+addPremiseErrorContainer).show();$("#"+addPremiseErrorMsg).text(_t(inputEmpty))}}else{var g=[],e=[];if($.isArray(h)){for(var c=0;c<h.length;c++){h[c]=h[c].replace(/\s\s+/g," ");while(h[c].indexOf((_t(and)+" "),h[c].length-(_t(and)+" ").length)!==-1||h[c].indexOf((_t(and)),h[c].length-(_t(and)).length)!==-1){if(h[c].indexOf((_t(and)+" "),h[c].length-(_t(and)+" ").length)!==-1){h[c]=h[c].substr(0,h[c].length-(_t(and)+" ").length)}else{h[c]=h[c].substr(0,h[c].length-(_t(and)).length)}}while(h[c].indexOf((" "),h[c].length-(" ").length)!==-1){h[c]=h[c].substr(0,h[c].length-(" ").length)}if(h[c].toLocaleLowerCase().indexOf(" "+_t(and)+" ")!=-1){g.push(h[c])}else{e.push(h[c])}}}if(g.length>0){new GuiHandler().showSetStatementContainer(g,e,f,d,j,b,a)}else{if(d==fuzzy_start_statement){if(e.length>0){alert("TODO: more than one decided text")}else{new AjaxSiteHandler().sendNewStartStatement(h)}}else{if(d==fuzzy_start_premise){new AjaxSiteHandler().sendNewStartPremise(h,a,f)}else{if(d==fuzzy_add_reason){new AjaxSiteHandler().sendNewPremiseForArgument(j,b,h)}}}}}}};