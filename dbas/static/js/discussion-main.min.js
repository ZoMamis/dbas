setClickFunctions=function(s,g){$(".icon-add-premise").each(function(){$(this).click(function(){s.appendAddPremiseRow($(this));$(this).hide().prev().show()})});$(".icon-rem-premise").each(function(){var u=this,t=$("#add-premise-container-body");$(this).click(function(){$(u).parent().remove();t.find("div").children().last().show();if(t.find("div").length==1){t.find(".icon-rem-premise").hide()}else{t.find(".icon-rem-premise").show()}})});$("#"+b).click(function b(){if($(this).val()===_t(showAllUsers)){g.getUsersOverview();$(this).val(_t(hideAllUsers))}else{$("#"+adminsSpaceForUsersId).empty();$(this).val(_t(showAllUsers))}});$("#"+listAllUsersArgumentId).click(function e(){if($(this).val()===_t(showAllAttacks)){g.getArgumentOverview()}else{$("#"+adminsSpaceForArgumentsId).empty()}});$("#"+f).click(function f(){$("#"+addStatementContainerId).hide();$("#"+addStatementErrorContainer).hide();$("#"+discussionSpaceId+" li:last-child input").attr("checked",false).prop("checked",false).enable=true});$("#"+closePremiseContainerId).click(function f(){$("#"+addPremiseContainerId).hide();$("#"+addPremiseErrorContainer).hide();$("#"+discussionSpaceId+" li:last-child input").attr("checked",false).prop("checked",false).enable=true});$("#"+closeIslandViewContainerId).click(function(){$("#"+islandViewContainerId).hide();s.resetChangeDisplayStyleBox();$("#li_"+addReasonButtonId).attr("checked",true).prop("checked",true)});$("#"+closeGraphViewContainerId).click(function(){$("#"+graphViewContainerId).hide();s.resetChangeDisplayStyleBox()});$("#"+editStatementButtonId).click(function(){s.showEditStatementsPopup()});$("#"+o).click(function o(){s.hideandClearEditStatementsPopup()});$("#"+c).click(function c(){s.hideandClearEditStatementsPopup()});$("#"+d).click(function d(){s.hideAndClearUrlSharingPopup()});$("#"+p).click(function p(){s.hideAndClearUrlSharingPopup()});$("#"+shareUrlId).click(function j(){s.showUrlSharingPopup()});$("#"+popupUrlSharingLongUrlButtonID).click(function(){if($(this).attr("short_url")=="0"){new AjaxSiteHandler().getShortenUrl(window.location);$(this).attr("short_url","1").text(_t(fetchLongUrl))}else{$("#"+popupUrlSharingInputId).val(window.location);$(this).attr("short_url","0").text(_t(fetchShortUrl))}});$("#"+m).click(function m(){new Sharing().emailShare("user@example.com",_t(interestingOnDBAS),_t(haveALookAt)+" "+$("#"+popupUrlSharingInputId).val())});$("#"+i).click(function i(){new Sharing().twitterShare($("#"+popupUrlSharingInputId).val(),"")});$("#"+h).click(function h(){new Sharing().googlePlusShare($("#"+popupUrlSharingInputId).val())});$("#"+k).click(function k(){var t=$("#"+popupUrlSharingInputId).val();new Sharing().facebookShare(t,"FB Sharing",_t(haveALookAt)+" "+t,mainpage+"static/images/logo.png")});s.setDisplayStyleAsDiscussion();$("#"+displayStyleIconGuidedId).click(function a(){s.setDisplayStyleAsDiscussion()});$("#"+displayStyleIconIslandId).click(function r(){s.setDisplayStyleAsIsland()});$("#"+displayStyleIconExpertId).click(function n(){s.setDisplayStyleAsGraphView()});$("#"+reportButtonId).click(function q(){var u="Report "+new Helper().getTodayAsDate(),t="URL: "+window.location.href,w=_t(fillLine).toUpperCase(),v={content:u+"\n"+t+"\n"+w,name:$("#header_user").parent().text().replace(/\s/g,"")};new Helper().redirectInNewTabForContact(v)});$("#"+opinionBarometerImageId).show().click(function l(){new DiscussionBarometer().showBarometer()});$("#"+issueDropdownListID+" .enabled").each(function(){if($(this).children().length>0){$(this).children().click(function(){var t=$(this).attr("href"),u=_t(switchDiscussionText1)+" <strong>"+$(this).attr("value")+"</strong> "+_t(switchDiscussionText2);$(this).attr("href","#");displayConfirmationDialogWithCheckbox(_t(switchDiscussion),u,_t.keepSetting,t,true)})}})};setKeyUpFunctions=function(a,b){$("#"+addStatementContainerMainInputId).keyup(function(){new Helper().delay(function(){var d=new Helper().escapeHtml($("#"+addStatementContainerMainInputId).val());if($("#"+discussionsDescriptionId).text().indexOf(_t(initialPositionInterest))!=-1){b.fuzzySearch(d,addStatementContainerMainInputId,fuzzy_start_statement,"")}else{b.fuzzySearch(d,addStatementContainerMainInputId,fuzzy_start_premise,"")}},200)});$("#"+addPremiseContainerMainInputId).keyup(function(){new Helper().delay(function(){var d=new Helper().escapeHtml($("#"+addPremiseContainerMainInputId).val());b.fuzzySearch(d,addPremiseContainerMainInputId,fuzzy_add_reason,"")},200)});$("#"+popupEditStatementTextareaId).keyup(function c(){new Helper().delay(function(){b.fuzzySearch($("#"+popupEditStatementTextareaId).val(),popupEditStatementTextareaId,fuzzy_statement_popup,$("#"+popupEditStatementContentId+" .text-hover").attr("id").substr(3));$("#"+popupEditStatementWarning).hide();$("#"+popupEditStatementWarningMessage).text("")},200)})};setStyleOptions=function(b){var f,e,c,a;b.hideSuccessDescription();b.hideErrorDescription();f=$("#discussion-restart-btn");e=$("#"+issueDropdownButtonID);c=f.outerWidth();a=e.outerWidth();f.attr("style",c<a?"width: "+a+"px;":"");e.attr("style",c>a?"width: "+c+"px;":"");$("input[type='text']").on("click",function(){$(this).select()});replaceHtmlTags($("#discussions-header"));$.each($("#"+discussionSpaceId+" label"),function d(){replaceHtmlTags($(this))});replaceHtmlTags($("#"+issueInfoId));replaceHtmlTags($("#"+addPremiseContainerMainInputIntroId))};setWindowOptions=function(){$(document).on({ajaxStart:function b(){setTimeout("$('body').addClass('loading')",0)},ajaxStop:function c(){setTimeout("$('body').removeClass('loading')",0)}});$("#navbar-left").empty();$(window).load(function a(){})};setGuiOptions=function(){$("#edit-statement").hover(function(){$(this).prev().fadeIn()},function(){$(this).prev().fadeOut()}).prev().hide();$("#report-button").hover(function(){$(this).prev().fadeIn()},function(){$(this).prev().fadeOut()}).prev().hide();$("#more-statement").hover(function(){$(this).prev().fadeIn()},function(){$(this).prev().fadeOut()}).prev().hide();if(false&&window.location.href.indexOf("/reaction/")!=-1){var l="icon-badge",b="height: 30px; width:30px; margin-right: 0.5em;",a=mainpage+"static/images/icon_discussion_",o=$("#item_undermine"),n=$("#item_support"),c=$("#item_undercut"),f=$("#item_overbid"),k=$("#item_rebut"),i=$("#item_no_opinion"),m=$("<img>").addClass(l).attr({style:b,src:a+"undermine.png",onclick:o.attr("onclick")}),j=$("<img>").addClass(l).attr({style:b,src:a+"support.png",onclick:n.attr("onclick")}),h=$("<img>").addClass(l).attr({style:b,src:a+"undercut.png",onclick:c.attr("onclick")}),e=$("<img>").addClass(l).attr({style:b,src:a+"overbid.png",onclick:f.attr("onclick")}),d=$("<img>").addClass(l).attr({style:b,src:a+"rebut.png",onclick:k.attr("onclick")}),g=$("<img>").addClass(l).attr({style:b,src:a+"no_opinion.png",onclick:i.attr("onclick")});o.hide().next().prepend(m);n.hide().next().prepend(j);c.hide().next().prepend(h);f.hide().next().prepend(e);k.hide().next().prepend(d);i.hide().next().prepend(g)}};setInputExtraOptions=function(g,d){var i=$("#"+discussionSpaceId+" li:last-child input"),k=[],j=window.location.href.split("/"),c,h,l,b,a=function(){k=$("#"+addStatementContainerMainInputId).val();d.sendStatement(k,"","","","",fuzzy_start_statement)},e=function(){c=j[j.length-2];h=j[j.length-1]=="t";k=[];$("#"+addPremiseContainerBodyId+" input").each(function(){if($(this).val().length>0){k.push($(this).val())}});d.sendStatement(k,c,h,"","",fuzzy_start_premise)},f=function(){k=[];$("#"+addPremiseContainerBodyId+" input").each(function(){if($(this).val().length>0){k.push($(this).val())}});l=j[j.length-3];h=j[j.length-2]=="t";b=j[j.length-1];d.sendStatement(k,"",h,l,b,fuzzy_add_reason)};if(window.location.href.indexOf("/r/")!=-1){$("#"+discussionSpaceId+" label").each(function(){$(this).css("width","95%")})}$("#"+discussionSpaceId+" input").each(function(){$(this).attr("checked",false).prop("checked",false)});$("#"+sendNewStatementId).off("click").click(function(){if($(this).attr("name").indexOf("start")!=-1){a()}});$("#"+sendNewPremiseId).off("click").click(function(){if($(this).attr("name").indexOf("justify")!=-1){e()}else{if($(this).attr("name").indexOf("start")!=-1){f()}}});if(i.attr("id").indexOf("start_statement")!=-1||i.attr("id").indexOf("start_premise")!=-1||i.attr("id").indexOf("justify_premise")!=-1){i.attr("onclick","");i.change(function(){if(i.prop("checked")){if(i.attr("id").indexOf("start_statement")!=-1){g.showAddPositionContainer();$("#"+sendNewStatementId).off("click").click(function(){a()})}else{if(i.attr("id").indexOf("start_premise")!=-1){g.showAddPremiseContainer();$("#"+sendNewPremiseId).off("click").click(function(){e()})}else{if(i.attr("id").indexOf("justify_premise")!=-1){g.showAddPremiseContainer();$("#"+sendNewPremiseId).off("click").click(function(){f()})}}}}})}};$(function(){var a=new GuiHandler(),b=new AjaxSiteHandler(),c=new InteractionHandler(),d;a.setHandler(c);setClickFunctions(a,b);setKeyUpFunctions(a,b);setStyleOptions(a);setWindowOptions();setGuiOptions();setInputExtraOptions(a,c);d=$("#discussion-restart-btn").attr("onclick").substr("location.href=".length);d=d.substr(1,d.length-2);$("#"+discussionEndRestart).attr("href",d)});replaceHtmlTags=function(a){var b=a.text();b=b.replace("&lt;strong&gt;","<strong>");b=b.replace("&lt;/strong&gt;","</strong>");b=b.replace("&lt;a","<a");b=b.replace("&lt;/a","</a");b=b.replace("&lt;br&gt;","<br>");a.html(b)};clearHtmlTags=function(a){var b=a.text();b=b.replace("&lt;strong&gt;","");b=b.replace("&lt;/strong&gt;","");b=b.replace("&lt;a","");b=b.replace("&lt;/a","");b=b.replace("&lt;br&gt;","");a.html(b)};